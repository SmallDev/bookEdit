<div class="page-header">
    <h1>Available books</h1>
</div>

<div ng-if="notification.showMessageFlag" ng-class="notification.messageType" class="alert" role="alert">
    <a href="#" class="alert-link">{{notification.infoMessage}}</a>
    <a ng-click="hideNotificationPanel()" class="btn btn-xs glyphicon glyphicon-remove pull-right"></a>
</div>

<div class="col-md-10 sort-block">
    <span class="sort-lable">Order By</span>
    <div class="btn-group" role="group">
        <button type="button" class="btn btn-default">Title</button>
        <button type="button" class="btn btn-default">Year</button>
    </div>
</div>

<div class="col-md-10">
    <div id="books-container" class="col-md-12" ng-repeat="book in data.books">
        <div class="panel panel-default book-panel">
            <div class="panel-heading clearfix">
                <h2 class="panel-title pull-left book-header book-panel-title">{{book.title}}</h2>
                <div class="btn-group pull-right">
                    <a ng-click="$parent.editBook(book.id)" class="btn btn-default btn-sm glyphicon glyphicon glyphicon-pencil"></a>
                    <a ng-click="$parent.deleteBook(book.id)" class="btn btn-default btn-sm glyphicon glyphicon-remove"></a>
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-3">
                        <img width="140" height="140" ng-if="book.bookHasImage" ng-src="data:image/JPEG;base64,{{book.picture.img}}" class="img-rounded book-image">
                        <img width="140" height="140" ng-if="!book.bookHasImage" src="/Content/img/no-img.jpg" class="img-rounded book-image">
                    </div>
                    <div class="col-md-9">
                        <div class="row book-info-detail">
                            <h4 class="book-info-header">Publisher:</h4>
                            <span class="book-info">{{book.publisher}}</span>
                        </div>
                        <div class="row book-info-detail">
                            <h4 class="book-info-header">ISBN:</h4>
                            <span class="book-info">{{book.isbn}}</span>
                        </div>
                        <div class="row book-info-detail">
                            <h4 class="book-info-header">Number of pages:</h4>
                            <span class="book-info">{{book.numberOfPages}}</span>
                        </div>
                        <div class="row book-info-detail">
                            <h4 class="book-info-header">Year:</h4>
                            <span class="book-info">{{book.publishYear}}</span>
                        </div>

                        <div class="row">
                            <h4 class="book-info-header authors-header">Authors</h4>
                            <div class="short-autor-info-panel">
                                <div class="short-author-info-inner-block" >
                                    <span class="label label-default author-short-info" ng-repeat="author in book.authors">
                                        <span>{{author.lastName}}</span>
                                        <span>{{author.firstName}}</span>
                                        <span>{{author.patronymicName}}</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>   
    </div>
</div>

<div class="col-md-2">
    <button ng-click="addBook()" type="button" class="btn btn-primary">Add Book</button>
</div>




